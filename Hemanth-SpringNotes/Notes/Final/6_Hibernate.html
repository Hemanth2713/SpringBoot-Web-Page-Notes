<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hibernate 6 Tutorial</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f1f1f1;
        line-height: 1.8;
        transition: background-color 0.3s, color 0.3s;
        font-size: 16px;
      }

      .white-bg {
        background-color: #ffffff;
        color: #2a2a2a;
      }
      .grey-bg {
        background-color: #e0e0e0;
        color: #2a2a2a;
      }
      .black-bg {
        background-color: #1a1a1a;
        color: #e0e0e0;
      }

      .bg-switcher {
        position: fixed;
        top: 15px;
        right: 15px;
        z-index: 1000;
        font-size: 16px;
        display: flex;
        align-items: center;
      }

      .bg-switcher label {
        margin-right: 10px;
        color: inherit;
        font-weight: bold;
      }

      .bg-switcher select {
        padding: 8px;
        border-radius: 6px;
        background-color: #04aa6d;
        color: white;
        border: 1px solid #059862;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.3s;
      }

      .bg-switcher select:hover {
        background-color: #059862;
      }

      .bg-switcher select:focus {
        outline: 2px solid #04aa6d;
        outline-offset: 2px;
      }

      .sidebar {
        width: 250px;
        background-color: #04aa6d;
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        padding-top: 20px;
        color: white;
        overflow-y: auto;
      }
      .sidebar-title {
        font-size: 24px;
        text-align: center;
        margin-bottom: 30px;
      }
      .sidebar-link {
        display: block;
        padding: 12px 20px;
        color: white;
        text-decoration: none;
        font-size: 18px;
        transition: background-color 0.3s;
      }
      .sidebar-link:hover {
        background-color: #059862;
      }
      .sidebar-link:focus {
        outline: 2px solid white;
      }
      .sidebar.hidden {
        transform: translateX(-100%);
      }

      .sidebar-toggle {
        display: none;
        position: fixed;
        top: 15px;
        left: 15px;
        background-color: #04aa6d;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 6px;
        cursor: pointer;
        z-index: 1001;
      }

      .sidebar-title {
        font-size: 26px;
        text-align: center;
        margin-bottom: 30px;
        font-weight: bold;
      }

      .sidebar-link {
        display: block;
        padding: 12px 15px;
        color: white;
        text-decoration: none;
        font-size: 18px;
        border-radius: 5px;
        margin: 5px 0;
        transition: background-color 0.3s, transform 0.2s;
      }

      .sidebar-link:hover {
        background-color: #059862;
        transform: scale(1.02);
      }

      .sidebar-link:focus {
        outline: 2px solid white;
        outline-offset: 2px;
      }

      .main-content {
        margin-left: 280px;
        padding: 40px;
        max-width: 1200px;
      }

      .header {
        background-color: #282a35;
        color: white;
        padding: 30px;
        text-align: center;
        border-radius: 10px;
        margin-bottom: 30px;
      }

      .header-title {
        font-size: 40px;
        margin: 0;
      }

      .header-subtitle {
        font-size: 20px;
        margin-top: 10px;
      }

      .section {
        margin: 30px 0;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }

      .white-bg .section {
        background-color: #f9f9f9;
      }
      .grey-bg .section {
        background-color: #d5d5d5;
      }
      .black-bg .section {
        background-color: #2a2a2a;
      }

      .section-title {
        font-size: 32px;
        color: #04aa6d;
        margin-bottom: 20px;
        font-weight: bold;
      }

      .subsection-title {
        font-size: 24px;
        margin: 20px 0 15px;
        color: inherit;
        font-weight: 600;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 25px;
        background-color: #000000; /* Black background for table data */
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
      }

      th,
      td {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid #ddd;
        color: #ffffff; /* White font for table data */
      }

      th {
        background-color: #04aa6d; /* Green background for headers */
        color: #000000; /* Black font for headers */
        font-weight: bold;
      }

      tr:nth-child(even) {
        background-color: #000000;
      } /* Black background for even rows */
      tr:hover {
        background-color: #333333;
      } /* Slightly lighter black on hover */

      .content-line {
        font-size: 16px;
        margin: 10px 0;
        padding: 12px;
        border-left: 5px solid #04aa6d;
        border-radius: 4px;
      }

      .white-bg .content-line {
        background-color: #f5f5f5;
      }
      .grey-bg .content-line {
        background-color: #c8c8c8;
      }
      .black-bg .content-line {
        background-color: #3a3a3a;
      }

      .code-block {
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", Courier, monospace;
        font-size: 15px;
        line-height: 1.5;
        background-color: #000000; /* Black background for code blocks */
        color: #e0e0e0;
        overflow-x: auto;
        margin: 15px 0;
      }

      .code-block::-webkit-scrollbar {
        height: 10px;
      }

      .code-block::-webkit-scrollbar-thumb {
        background-color: #04aa6d;
        border-radius: 5px;
      }

      .code-block::-webkit-scrollbar-track {
        background-color: #f1f1f1;
      }

      /* Syntax highlighting styles */
      .java-package {
        color: #569cd6;
      } /* Blue for package */
      .java-import {
        color: #569cd6;
      } /* Blue for import */
      .java-keyword {
        color: #ff79c6;
      } /* Pink for keywords */
      .java-classname {
        color: #4ec9b0;
      } /* Teal for class names */
      .java-annotation {
        color: #d7ba7d;
      } /* Yellow for annotations */
      .java-string {
        color: #ce9178;
      } /* Orange for strings */
      .java-comment {
        color: #6a9955;
      } /* Green for comments */
      .java-field {
        color: #9cdcfe;
      } /* Light blue for fields */
      .java-method {
        color: #dcdcaa;
      } /* Light yellow for methods */
      .java-parameter {
        color: #b5cea8;
      } /* Light green for parameters */

      .image-container {
        margin: 25px 0;
        text-align: center;
      }

      .diagram {
        max-width: 100%;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
      }

      .image-caption {
        font-size: 14px;
        color: inherit;
        margin-top: 8px;
      }

      .highlight {
        color: #ff4500;
        font-weight: bold;
      }

      strong {
        font-weight: bold;
      }

      @media (max-width: 768px) {
        .sidebar {
          width: 100%;
          height: auto;
          position: fixed;
          z-index: 1000;
          transform: translateX(-100%);
        }

        .sidebar.active {
          transform: translateX(0);
        }

        .sidebar-toggle {
          display: block;
        }

        .main-content {
          margin-left: 0;
          padding: 20px;
        }
      }
    </style>
  </head>
  <body class="white-bg">
    <button class="sidebar-toggle" onclick="toggleSidebar()">☰ Menu</button>
    <div class="sidebar">
      <div class="sidebar-title">Hibernate 6 Tutorial</div>
      <a href="#introduction" class="sidebar-link">Introduction</a>
      <a href="#project-setup" class="sidebar-link">Project Setup</a>
      <a href="#configuring-hibernate" class="sidebar-link"
        >Configuring Hibernate</a
      >
      <a href="#saving-data" class="sidebar-link">Saving Data</a>
      <a href="#fetching-data" class="sidebar-link">Fetching Data</a>
      <a href="#updating-deleting" class="sidebar-link">Updating & Deleting</a>
      <a href="#customizing-table-columns" class="sidebar-link"
        >Customizing Table/Columns</a
      >
      <a href="#embedding-objects" class="sidebar-link">Embedding Objects</a>
      <a href="#mapping-relationships" class="sidebar-link"
        >Mapping Relationships</a
      >
      <a href="#eager-lazy-fetching" class="sidebar-link"
        >Eager & Lazy Fetching</a
      >
      <a href="#hibernate-caching" class="sidebar-link">Hibernate Caching</a>
      <a href="#hibernate-query-language" class="sidebar-link"
        >Hibernate Query Language</a
      >
      <a href="#fetching-with-filters" class="sidebar-link"
        >Fetching with Filters</a
      >
      <a href="#get-vs-load" class="sidebar-link">Get vs. Load</a>
      <a href="#level-2-cache" class="sidebar-link">Level 2 Cache</a>
    </div>
    <div class="bg-switcher">
      <label for="bg-select">Background:</label>
      <select id="bg-select" onchange="changeBackground()">
        <option value="white-bg">White</option>
        <option value="grey-bg">Grey</option>
        <option value="black-bg">Black</option>
      </select>
    </div>
    <div class="main-content">
      <div class="header">
        <h1 class="header-title">Hibernate 6 Tutorial</h1>
        <p class="header-subtitle">
          Comprehensive Notes on Database Operations and Mapping
        </p>
      </div>

      <div class="section" id="introduction">
        <h2 class="section-title">Introduction to Hibernate</h2>
        <p class="content-line">
          This guide provides concise, structured notes on Hibernate 6, covering
          its setup, core concepts, and advanced features such as saving,
          fetching, updating, deleting, customizing table/column names,
          embedding objects, mapping relationships, caching, and querying with
          Hibernate Query Language (HQL). Examples use a PostgreSQL database
          named <strong>telusko</strong>. Code is sourced from
          <strong>navinreddy20/hibernate6</strong>.
        </p>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            <strong>Hibernate</strong>: An Object-Relational Mapping (ORM)
            framework that maps Java objects to database tables.
          </li>
          <li class="content-line">
            <strong>Purpose</strong>: Eliminates manual SQL queries (unlike
            JDBC), enabling direct object persistence.
          </li>
          <li class="content-line">
            <strong>Benefits</strong>: Boosts productivity with clean code,
            caching, optimization, and database portability (e.g., MySQL to
            PostgreSQL).
          </li>
          <li class="content-line">
            <strong>Spring Data JPA</strong>: Builds on Hibernate; this guide
            focuses on standalone Hibernate.
          </li>
          <li class="content-line">
            <strong>Paradigm Mismatch</strong>: Addresses differences between
            Java’s object-oriented model and relational databases.
          </li>
          <li class="content-line">
            <strong>Conversions</strong>: Handles data type mappings (e.g.,
            <code>int</code> to <code>INTEGER</code>, <code>String</code> to
            <code>TEXT</code>) and naming conventions (camelCase to snake_case).
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Hibernate
            supports JPA (Jakarta Persistence API), ensuring portability across
            ORM frameworks.
          </li>
        </ul>
        <h3 class="subsection-title">Diagram: Hibernate ORM Concept</h3>
        <div class="image-container">
          <pre class="code-block">
[Java Object (Student)] <--> [Hibernate ORM] <--> [Database Table (student)]
  rollNo, sName, sAge                |              rollNo, s_name, s_age</pre
          >
          <p class="image-caption">Figure 1: Hibernate ORM Mapping</p>
        </div>
      </div>

      <div class="section" id="project-setup">
        <h2 class="section-title">Project Setup</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Create a Maven project in IntelliJ IDEA (Community/Ultimate) with
            JDK 21+.
          </li>
          <li class="content-line">
            Add <strong>Hibernate Core (6.6.3)</strong> and
            <strong>PostgreSQL driver (42.7.3)</strong> dependencies in
            <code>pom.xml</code>.
          </li>
          <li class="content-line">
            Configure a PostgreSQL database (<strong>telusko</strong>) using
            pgAdmin.
          </li>
          <li class="content-line">
            Set up <code>hibernate.cfg.xml</code> in the
            <code>resources</code> directory for database connection.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Maven
            simplifies dependency management, and IntelliJ’s Maven integration
            ensures seamless library imports.
          </li>
        </ul>
        <h3 class="subsection-title">Code Example: <code>pom.xml</code></h3>
        <pre class="code-block">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;artifactId&gt;HibProject&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;!-- Hibernate Core: Provides ORM functionality for mapping Java objects to database tables --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;
            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;
            &lt;version&gt;6.6.3&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- PostgreSQL Driver: Enables JDBC connectivity to PostgreSQL databases --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;
            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;
            &lt;version&gt;42.7.3&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
            </pre
        >
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            <code>hibernate-core</code>: Core library for Hibernate’s ORM
            functionality, including session management and entity mapping.
          </li>
          <li class="content-line">
            <code>postgresql</code>: JDBC driver for PostgreSQL, enabling
            database connectivity.
          </li>
          <li class="content-line">
            <strong>Maven Reload</strong>: Downloads dependencies, visible in
            IntelliJ’s external libraries.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Use
            <code>&lt;scope&gt;runtime&lt;/scope&gt;</code> for the PostgreSQL
            driver if it’s only needed at runtime.
          </li>
        </ul>
        <h3 class="subsection-title">Database Setup</h3>
        <table>
          <tr>
            <th>Database</th>
            <th>Name</th>
            <th>Tool</th>
            <th>Purpose</th>
          </tr>
          <tr>
            <td>PostgreSQL</td>
            <td>telusko</td>
            <td>pgAdmin</td>
            <td>Store application data</td>
          </tr>
        </table>
      </div>

      <div class="section" id="configuring-hibernate">
        <h2 class="section-title">Configuring Hibernate</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Create <code>hibernate.cfg.xml</code> in <code>resources</code> for
            database connection and Hibernate properties.
          </li>
          <li class="content-line">
            Specify JDBC driver, connection URL, credentials, dialect, and
            settings like <code>show_sql</code>, <code>format_sql</code>, and
            <code>hbm2ddl.auto</code>.
          </li>
          <li class="content-line">
            Use <code>update</code> for <code>hbm2ddl.auto</code> in development
            to create/update tables.
          </li>
          <li class="content-line">
            The <strong>dialect</strong> ensures compatibility with PostgreSQL’s
            SQL variations.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Dialects
            optimize SQL generation for specific databases, improving
            performance and compatibility.
          </li>
        </ul>
        <h3 class="subsection-title">
          Code Example: <code>hibernate.cfg.xml</code>
        </h3>
        <pre class="code-block">
&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd"&gt;
&lt;hibernate-configuration&gt;
    &lt;session-factory&gt;
        &lt;!-- JDBC driver class for PostgreSQL --&gt;
        &lt;property name="hibernate.connection.driver_class"&gt;org.postgresql.Driver&lt;/property&gt;
        &lt;!-- Database connection URL for telusko database --&gt;
        &lt;property name="hibernate.connection.url"&gt;jdbc:postgresql://localhost:5432/telusko&lt;/property&gt;
        &lt;!-- Database username --&gt;
        &lt;property name="hibernate.connection.username"&gt;postgres&lt;/property&gt;
        &lt;!-- Database password (configure securely in production) --&gt;
        &lt;property name="hibernate.connection.password"&gt;&lt;/property&gt;
        &lt;!-- PostgreSQL dialect for SQL compatibility --&gt;
        &lt;property name="hibernate.dialect"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;
        &lt;!-- Display generated SQL in console for debugging --&gt;
        &lt;property name="hibernate.show_sql"&gt;true&lt;/property&gt;
        &lt;!-- Format SQL for better readability --&gt;
        &lt;property name="hibernate.format_sql"&gt;true&lt;/property&gt;
        &lt;!-- Automatically create/update tables during development --&gt;
        &lt;property name="hibernate.hbm2ddl.auto"&gt;update&lt;/property&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;
            </pre
        >
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            <code>driver_class</code>: Specifies the PostgreSQL JDBC driver for
            connectivity.
          </li>
          <li class="content-line">
            <code>connection.url</code>: Points to the
            <code>telusko</code> database on localhost.
          </li>
          <li class="content-line">
            <code>username/password</code>: Database credentials (password
            omitted for security).
          </li>
          <li class="content-line">
            <code>dialect</code>: Ensures Hibernate generates
            PostgreSQL-compatible SQL.
          </li>
          <li class="content-line">
            <code>show_sql</code>: Logs SQL queries to the console for
            debugging.
          </li>
          <li class="content-line">
            <code>format_sql</code>: Formats SQL for readability.
          </li>
          <li class="content-line">
            <code>hbm2ddl.auto</code>: <code>update</code> creates or updates
            tables based on entities.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Use
            <code>validate</code> for <code>hbm2ddl.auto</code> in production to
            ensure schema matches entities without modifications.
          </li>
        </ul>
        <h3 class="subsection-title">Diagram: Hibernate Configuration Flow</h3>
        <div class="image-container">
          <pre class="code-block"
          >
[Java Application] --> [hibernate.cfg.xml] --> [SessionFactory] --> [Database (telusko)]</pre
          >
          <p class="image-caption">Figure 2: Hibernate Configuration Flow</p>
        </div>
      </div>

      <div class="section" id="saving-data">
        <h2 class="section-title">Saving Data</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Create an entity class (e.g., <code>Student</code>) with
            <code>@Entity</code> and <code>@Id</code> annotations.
          </li>
          <li class="content-line">
            Use <code>SessionFactory</code> and <code>Session</code> to persist
            objects with <code>session.persist()</code> (replaces deprecated
            <code>save()</code>).
          </li>
          <li class="content-line">
            Transactions are required for database modifications
            (<code>beginTransaction()</code>, <code>commit()</code>).
          </li>
          <li class="content-line">
            Handle duplicate key errors by ensuring unique primary keys.
          </li>
          <li class="content-line">
            <code>hbm2ddl.auto=update</code> creates the table if it doesn’t
            exist.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>:
            <code>persist()</code> ensures the entity is managed by Hibernate’s
            persistence context, enabling automatic dirty checking.
          </li>
        </ul>
        <h3 class="subsection-title">
          Code Example: <code>Student.java</code>
        </h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity, mapping it to a database table (default name: student)</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">Student</span> {
    <span class="java-comment">// @Id: Designates rollNo as the primary key for the student table</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">rollNo</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">sName</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">sAge</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getRollNo</span>() {
        <span class="java-keyword">return</span> <span class="java-field">rollNo</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setRollNo</span>(<span class="java-classname">int</span> <span class="java-parameter">rollNo</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">rollNo</span> = <span class="java-parameter">rollNo</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getSname</span>() {
        <span class="java-keyword">return</span> <span class="java-field">sName</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setSname</span>(<span class="java-classname">String</span> <span class="java-parameter">sName</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">sName</span> = <span class="java-parameter">sName</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getSage</span>() {
        <span class="java-keyword">return</span> <span class="java-field">sAge</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setSage</span>(<span class="java-classname">int</span> <span class="java-parameter">sAge</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">sAge</span> = <span class="java-parameter">sAge</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"Student{"</span> +
                <span class="java-string">"rollNo="</span> + <span class="java-field">rollNo</span> +
                <span class="java-string">", sName='"</span> + <span class="java-field">sName</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", sAge="</span> + <span class="java-field">sAge</span> +
                <span class="java-string">"\'}"</span>;
    }
}
            </pre>
        <h3 class="subsection-title">Annotation Explanation</h3>
        <ul>
          <li class="content-line">
            <code>@Entity</code>: Indicates the class is a persistent entity,
            mapped to a database table. The table name defaults to the class
            name (<code>Student</code> → <code>student</code>) unless
            overridden.
          </li>
          <li class="content-line">
            <code>@Id</code>: Marks the field as the primary key, ensuring
            unique identification of records.
          </li>
        </ul>
        <h3 class="subsection-title">Code Example: <code>Main.java</code></h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.Transaction</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">Main</span> {
    <span class="java-keyword">public static void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register the Student entity</span>
        <span class="java-comment">// Configuration: Loads hibernate.cfg.xml for database settings</span>
        <span class="java-comment">// addAnnotatedClass: Registers Student as an entity</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Student</span>.<span class="java-method">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for database operations</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Begin a transaction for data modification (mandatory for writes)</span>
            <span class="java-classname">Transaction</span> <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();

            <span class="java-comment">// Create a Student object and set values</span>
            <span class="java-classname">Student</span> <span class="java-field">student</span> = <span class="java-keyword">new</span> <span class="java-classname">Student</span>();
            <span class="java-field">student</span>.<span class="java-method">setRollNo</span>(106);
            <span class="java-field">student</span>.<span class="java-method">setSname</span>(<span class="java-string">"Avni"</span>);
            <span class="java-field">student</span>.<span class="java-method">setSage</span>(21);

            <span class="java-comment">// Persist the object to the database (replaces deprecated save())</span>
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">student</span>);

            <span class="java-comment">// Commit the transaction to save changes to the database</span>
            <span class="java-field">tx</span>.<span class="java-method">commit</span>();
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory to release resources</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
            </pre>
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            <code>Configuration</code>: Loads <code>hibernate.cfg.xml</code> and
            sets up Hibernate.
          </li>
          <li class="content-line">
            <code>addAnnotatedClass</code>: Registers the
            <code>Student</code> entity for mapping.
          </li>
          <li class="content-line">
            <code>buildSessionFactory</code>: Creates a
            <code>SessionFactory</code>, a thread-safe, heavyweight object for
            session creation.
          </li>
          <li class="content-line">
            <code>openSession</code>: Opens a <code>Session</code> for database
            operations.
          </li>
          <li class="content-line">
            <code>beginTransaction</code>: Starts a transaction for write
            operations.
          </li>
          <li class="content-line">
            <code>persist</code>: Saves the <code>Student</code> object to the
            database, associating it with the persistence context.
          </li>
          <li class="content-line">
            <code>commit</code>: Applies changes to the database.
          </li>
          <li class="content-line">
            <code>close</code>: Releases resources to prevent memory leaks.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Use
            <code>try-with-resources</code> to ensure <code>Session</code> and
            <code>SessionFactory</code> are closed automatically.
          </li>
        </ul>
        <h3 class="subsection-title">Database Table: <code>student</code></h3>
        <table>
          <tr>
            <th>rollNo (PK)</th>
            <th>sName</th>
            <th>sAge</th>
          </tr>
          <tr>
            <td>106</td>
            <td>Avni</td>
            <td>21</td>
          </tr>
        </table>
      </div>

      <div class="section" id="fetching-data">
        <h2 class="section-title">Fetching Data with Hibernate</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Use <code>session.get(Class, id)</code> for
            <strong>eager loading</strong> by primary key.
          </li>
          <li class="content-line">
            Check for <code>null</code> to avoid
            <code>NullPointerException</code> for non-existent records.
          </li>
          <li class="content-line">
            Deprecated <code>load()</code> uses <strong>lazy loading</strong>,
            fetching data only when accessed.
          </li>
          <li class="content-line">
            Use <code>byId().getReference()</code> for lazy loading in modern
            Hibernate.
          </li>
          <li class="content-line">No transaction is needed for fetching.</li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Eager loading
            is suitable for small datasets, while lazy loading optimizes
            performance for large datasets.
          </li>
        </ul>
        <h3 class="subsection-title">
          Code Example: <code>FetchMain.java</code>
        </h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">FetchMain</span> {
    <span class="java-keyword">public static void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register the Student entity</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Student</span>.<span class="java-method">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for fetching data</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Fetch a Student object by primary key (eager loading)</span>
            <span class="java-comment">// get(): Queries the database immediately, returns null if not found</span>
            <span class="java-classname">Student</span> <span class="java-field">s2</span> = <span class="java-field">session</span>.<span class="java-method">get</span>(<span class="java-classname">Student</span>.<span class="java-method">class</span>, 102);
            
            <span class="java-comment">// Check for null to avoid NullPointerException</span>
            <span class="java-keyword">if</span> (<span class="java-field">s2</span> != <span class="java-keyword">null</span>) {
                <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s2</span>.<span class="java-method">getSname</span>());
            } <span class="java-keyword">else</span> {
                <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-string">"No student found with ID 102"</span>);
            }

            <span class="java-comment">// Lazy loading with byId().getReference()</span>
            <span class="java-comment">// getReference(): Returns a proxy, querying only when fields are accessed</span>
            <span class="java-classname">Student</span> <span class="java-field">s3</span> = <span class="java-field">session</span>.<span class="java-method">byId</span>(<span class="java-classname">Student</span>.<span class="java-method">class</span>).<span class="java-method">getReference</span>(102);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s3</span>); <span class="java-comment">// Query executes here due to lazy loading</span>
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
            </pre>
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            <code>get(Student.class, 102)</code>: Eagerly fetches the
            <code>Student</code> with <code>rollNo=102</code>, executing the
            query immediately.
          </li>
          <li class="content-line">
            <code>null</code> check: Prevents errors for non-existent records.
          </li>
          <li class="content-line">
            <code>byId().getReference</code>: Lazily loads the object, creating
            a proxy that queries the database only when fields are accessed.
          </li>
          <li class="content-line">
            <strong>No transaction</strong>: Fetching is read-only, so
            transactions are not required.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Lazy loading
            can throw <code>LazyInitializationException</code> if the session is
            closed before accessing the proxy.
          </li>
        </ul>
        <h3 class="subsection-title">Database Table: <code>student</code></h3>
        <table>
          <tr>
            <th>rollNo (PK)</th>
            <th>sName</th>
            <th>sAge</th>
          </tr>
          <tr>
            <td>102</td>
            <td>Kiran</td>
            <td>20</td>
          </tr>
        </table>
      </div>

      <div class="section" id="updating-deleting">
        <h2 class="section-title">Updating and Deleting Data</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Use <code>session.merge()</code> to update or insert records
            (replaces deprecated <code>update()</code>,
            <code>saveOrUpdate()</code>).
          </li>
          <li class="content-line">
            Use <code>session.remove()</code> to delete records (replaces
            deprecated <code>delete()</code>).
          </li>
          <li class="content-line">
            Transactions are required for both operations.
          </li>
          <li class="content-line">
            <code>merge()</code> performs a <code>SELECT</code> to check
            existence, then <code>UPDATE</code> or <code>INSERT</code>.
          </li>
          <li class="content-line">
            <code>remove()</code> performs a <code>SELECT</code> and
            <code>DELETE</code>.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>:
            <code>merge()</code> copies the state of a detached object into a
            managed entity, ensuring persistence context synchronization.
          </li>
        </ul>
        <h3 class="subsection-title">
          Code Example: <code>UpdateDeleteMain.java</code>
        </h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.Transaction</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">UpdateDeleteMain</span> {
    <span class="java-keyword">public static void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register the Student entity</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Student</span>.<span class="java-method">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for database operations</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Update example</span>
            <span class="java-comment">// Create a Student object with updated values</span>
            <span class="java-classname">Student</span> <span class="java-field">s1</span> = <span class="java-keyword">new</span> <span class="java-classname">Student</span>();
            <span class="java-field">s1</span>.<span class="java-method">setRollNo</span>(103);
            <span class="java-field">s1</span>.<span class="java-method">setSname</span>(<span class="java-string">"Harsh"</span>);
            <span class="java-field">s1</span>.<span class="java-method">setSage</span>(23);

            <span class="java-comment">// Begin a transaction for updating</span>
            <span class="java-classname">Transaction</span> <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();
            <span class="java-comment">// merge(): Updates if the record exists, inserts if it doesn't</span>
            <span class="java-field">session</span>.<span class="java-method">merge</span>(<span class="java-field">s1</span>);
            <span class="java-comment">// Commit the transaction to apply changes</span>
            <span class="java-field">tx</span>.<span class="java-method">commit</span>();

            <span class="java-comment">// Delete example</span>
            <span class="java-comment">// Fetch the Student to delete</span>
            <span class="java-classname">Student</span> <span class="java-field">s2</span> = <span class="java-field">session</span>.<span class="java-method">get</span>(<span class="java-classname">Student</span>.<span class="java-method">class</span>, 109);
            <span class="java-keyword">if</span> (<span class="java-field">s2</span> != <span class="java-keyword">null</span>) {
                <span class="java-comment">// Begin a transaction for deletion</span>
                <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();
                <span class="java-comment">// remove(): Deletes the Student from the database</span>
                <span class="java-field">session</span>.<span class="java-method">remove</span>(<span class="java-field">s2</span>);
                <span class="java-comment">// Commit the transaction</span>
                <span class="java-field">tx</span>.<span class="java-method">commit</span>();
            } <span class="java-keyword">else</span> {
                <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-string">"No student found with ID 109"</span>);
            }
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
            </pre>
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            <code>merge(s1)</code>: Updates the <code>Student</code> with
            <code>rollNo=103</code> if it exists, or inserts a new record.
          </li>
          <li class="content-line">
            <code>get(Student.class, 109)</code>: Fetches the
            <code>Student</code> for deletion.
          </li>
          <li class="content-line">
            <code>remove(s2)</code>: Deletes the fetched
            <code>Student</code> from the database.
          </li>
          <li class="content-line">
            <strong>Transactions</strong>: Mandatory for write operations to
            ensure data consistency.
          </li>
          <li class="content-line">
            <code>null</code> check: Prevents errors for non-existent records.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Use
            <code>merge()</code> for detached objects (e.g., from a web session)
            to reattach them to the persistence context.
          </li>
        </ul>
        <h3 class="subsection-title">
          Database Table: <code>student</code> (After Update)
        </h3>
        <table>
          <tr>
            <th>rollNo (PK)</th>
            <th>sName</th>
            <th>sAge</th>
          </tr>
          <tr>
            <td>103</td>
            <td>Harsh</td>
            <td>23</td>
          </tr>
        </table>
      </div>

      <div class="section" id="customizing-table-columns">
        <h2 class="section-title">Customizing Table and Column Names</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Default table name is the class name (e.g., <code>Student</code> →
            <code>student</code>).
          </li>
          <li class="content-line">
            Use <code>@Table(name="custom_name")</code> to customize table
            names.
          </li>
          <li class="content-line">
            Use <code>@Column(name="custom_name")</code> to rename columns.
          </li>
          <li class="content-line">
            Use <code>@Transient</code> to exclude fields from persistence.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Customizing
            names aligns Java conventions (camelCase) with database conventions
            (snake_case).
          </li>
        </ul>
        <h3 class="subsection-title">Code Example: <code>Alien.java</code></h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Column</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Table</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Transient</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-comment">// @Table: Customizes the table name to alien_table</span>
<span class="java-annotation">@Entity</span>
<span class="java-annotation">@Table</span>(<span class="java-field">name</span> = <span class="java-string">"alien_table"</span>)
<span class="java-keyword">public</span> <span class="java-classname">Alien</span> {
    <span class="java-comment">// @Id: Designates aid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">aid</span>;

    <span class="java-comment">// @Column: Maps aname to the alien_name column in the database</span>
    <span class="java-annotation">@Column</span>(<span class="java-field">name</span> = <span class="java-string">"alien_name"</span>)
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">aname</span>;

    <span class="java-comment">// @Transient: Excludes this field from being persisted in the database</span>
    <span class="java-annotation">@Transient</span>
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">technology</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getAid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAid</span>(<span class="java-classname">int</span> <span class="java-parameter">aid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aid</span> = <span class="java-parameter">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getAname</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAname</span>(<span class="java-classname">String</span> <span class="java-parameter">aname</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aname</span> = <span class="java-parameter">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getTechnology</span>() {
        <span class="java-keyword">return</span> <span class="java-field">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setTechnology</span>(<span class="java-classname">String</span> <span class="java-parameter">technology</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">technology</span> = <span class="java-parameter">technology</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"Alien{"</span> +
                <span class="java-string">"aid="</span> + <span class="java-field">aid</span> +
                <span class="java-string">", aname='"</span> + <span class="java-field">aname</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", technology='"</span> + <span class="java-field">technology</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">"\'}"</span>;
    }
}
            </pre>
        <h3 class="subsection-title">Annotation Explanation</h3>
        <ul>
          <li class="content-line">
            <code>@Table(name="alien_table")</code>: Overrides the default table
            name (<code>Alien</code>) to <code>alien_table</code>.
          </li>
          <li class="content-line">
            <code>@Column(name="alien_name")</code>: Maps the
            <code>aname</code> field to the <code>alien_name</code> column.
          </li>
          <li class="content-line">
            <code>@Transient</code>: Prevents the <code>technology</code> field
            from being stored in the database, useful for temporary or computed
            fields.
          </li>
        </ul>
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            Customizes table and column names to align with database naming
            conventions.
          </li>
          <li class="content-line">
            Excludes <code>technology</code> from persistence, reducing database
            overhead.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Use
            <code>@Column</code> attributes like <code>length</code>,
            <code>nullable</code>, or <code>unique</code> for additional
            constraints.
          </li>
        </ul>
        <h3 class="subsection-title">
          Database Table: <code>alien_table</code>
        </h3>
        <table>
          <tr>
            <th>aid (PK)</th>
            <th>alien_name</th>
          </tr>
          <tr>
            <td>101</td>
            <td>Navin</td>
          </tr>
        </table>
      </div>

      <div class="section" id="embedding-objects">
        <h2 class="section-title">Embedding Objects</h2>
        <h3 class="subsection-title">Key Points</h3>
        <ul>
          <li class="content-line">
            Use <code>@Embeddable</code> to embed an object’s fields into the
            parent entity’s table.
          </li>
          <li class="content-line">
            Avoids creating a separate table for the embedded object.
          </li>
          <li class="content-line">
            Embedded fields (e.g., <code>Laptop</code>’s <code>brand</code>,
            <code>model</code>, <code>ram</code>) become columns in the parent
            table.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Embedding is
            ideal for tightly coupled data (e.g., address within a user entity)
            to simplify schema design.
          </li>
        </ul>
        <h3 class="subsection-title">Code Example: <code>Laptop.java</code></h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Embeddable</span>;

<span class="java-comment">// @Embeddable: Marks this class for embedding, including its fields in the parent entity's table</span>
<span class="java-annotation">@Embeddable</span>
<span class="java-keyword">public</span> <span class="java-classname">Laptop</span> {
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">brand</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">model</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">ram</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getBrand</span>() {
        <span class="java-keyword">return</span> <span class="java-field">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setBrand</span>(<span class="java-classname">String</span> <span class="java-parameter">brand</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">brand</span> = <span class="java-parameter">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getModel</span>() {
        <span class="java-keyword">return</span> <span class="java-field">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setModel</span>(<span class="java-classname">String</span> <span class="java-parameter">model</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">model</span> = <span class="java-parameter">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getRam</span>() {
        <span class="java-keyword">return</span> <span class="java-field">ram</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setRam</span>(<span class="java-classname">int</span> <span class="java-parameter">ram</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">ram</span> = <span class="java-parameter">ram</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"Laptop{"</span> +
                <span class="java-string">"brand='"</span> + <span class="java-field">brand</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", model='"</span> + <span class="java-field">model</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", ram="</span> + <span class="java-field">ram</span> +
                <span class="java-string">"\'}"</span>;
    }
}
            </pre>
        <h3 class="subsection-title">
          Code Example: <code>AlienEmbed.java</code>
        </h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">AlienEmbed</span> {
    <span class="java-comment">// @Id: Designates aid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">aid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">aname</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">technology</span>;
    <span class="java-comment">// Embedded Laptop object; its fields are included in the alien_embed table</span>
    <span class="java-keyword">private</span> <span class="java-classname">Laptop</span> <span class="java-field">laptop</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getAid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAid</span>(<span class="java-classname">int</span> <span class="java-parameter">aid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aid</span> = <span class="java-parameter">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getAname</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAname</span>(<span class="java-classname">String</span> <span class="java-parameter">aname</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aname</span> = <span class="java-parameter">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getTechnology</span>() {
        <span class="java-keyword">return</span> <span class="java-field">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setTechnology</span>(<span class="java-classname">String</span> <span class="java-parameter">technology</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">technology</span> = <span class="java-parameter">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">Laptop</span> <span class="java-method">getLaptop</span>() {
        <span class="java-keyword">return</span> <span class="java-field">laptop</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLaptop</span>(<span class="java-classname">Laptop</span> <span class="java-parameter">laptop</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">laptop</span> = <span class="java-parameter">laptop</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"AlienEmbed{"</span> +
                <span class="java-string">"aid="</span> + <span class="java-field">aid</span> +
                <span class="java-string">", aname='"</span> + <span class="java-field">aname</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", technology='"</span> + <span class="java-field">technology</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", laptop="</span> + <span class="java-field">laptop</span> +
                <span class="java-string">"\'}"</span>;
    }
}
            </pre>
        <h3 class="subsection-title">
          Code Example: <code>EmbedMain.java</code>
        </h3>
        <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.Transaction</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">EmbedMain</span> {
    <span class="java-keyword">public static void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register the AlienEmbed entity</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">AlienEmbed</span>.<span class="java-method">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for database operations</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Begin a transaction for data modification</span>
            <span class="java-classname">Transaction</span> <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();

            <span class="java-comment">// Create a Laptop object</span>
            <span class="java-classname">Laptop</span> <span class="java-field">l1</span> = <span class="java-keyword">new</span> <span class="java-classname">Laptop</span>();
            <span class="java-field">l1</span>.<span class="java-method">setBrand</span>(<span class="java-string">"Asus"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setModel</span>(<span class="java-string">"ROG"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setRam</span>(16);

            <span class="java-comment">// Create an AlienEmbed object with embedded Laptop</span>
            <span class="java-classname">AlienEmbed</span> <span class="java-field">a1</span> = <span class="java-keyword">new</span> <span class="java-classname">AlienEmbed</span>();
            <span class="java-field">a1</span>.<span class="java-method">setAid</span>(101);
            <span class="java-field">a1</span>.<span class="java-method">setAname</span>(<span class="java-string">"Navin"</span>);
            <span class="java-field">a1</span>.<span class="java-method">setTechnology</span>(<span class="java-string">"Java"</span>);
            <span class="java-field">a1</span>.<span class="java-method">setLaptop</span>(<span class="java-field">l1</span>);

            <span class="java-comment">// Persist the object to the database</span>
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">a1</span>);

            <span class="java-comment">// Commit the transaction to save changes</span>
            <span class="java-field">tx</span>.<span class="java-method">commit</span>();
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
            </pre>
        <h3 class="subsection-title">Annotation Explanation</h3>
        <ul>
          <li class="content-line">
            <code>@Embeddable</code>: Marks <code>Laptop</code> for embedding,
            flattening its fields into the parent table
            (<code>alien_embed</code>).
          </li>
        </ul>
        <h3 class="subsection-title">Code Explanation</h3>
        <ul>
          <li class="content-line">
            <strong>Embedding</strong>: <code>Laptop</code> fields
            (<code>brand</code>, <code>model</code>, <code>ram</code>) are
            included as columns in the <code>alien_embed</code> table.
          </li>
          <li class="content-line">
            <code>persist(a1)</code>: Saves the <code>AlienEmbed</code> object,
            including embedded <code>Laptop</code> fields, to the
            <code>alien_embed</code> table.
          </li>
          <li class="content-line">
            <strong class="highlight">Additional Insight</strong>: Use
            <code>@AttributeOverrides</code> to customize embedded field column
            names if needed.
          </li>
        </ul>
        <h3 class="subsection-title">
          Database Table: <code>alien_embed</code>
        </h3>
        <table>
          <tr>
            <th>aid (PK)</th>
            <th>aname</th>
            <th>technology</th>
            <th>brand</th>
            <th>model</th>
            <th>ram</th>
          </tr>
          <tr>
            <td>101</td>
            <td>Navin</td>
            <td>Java</td>
            <td>Asus</td>
            <td>ROG</td>
            <td>16</td>
          </tr>
        </table>
      </div>
 <div class="section" id="mapping-relationships">
            <h2 class="section-title">Mapping Relationships</h2>
            <h3 class="subsection-title">One-to-One Mapping</h3>
            <h4 class="subsection-title">Key Points</h4>
            <ul>
                <li class="content-line">One <code>Alien</code> has one <code>Laptop</code>, implemented with <code>@OneToOne</code>.</li>
                <li class="content-line"><code>Laptop</code> is the parent table; <code>Alien</code> includes a foreign key (<code>laptop_lid</code>).</li>
                <li class="content-line">Persist the parent (<code>Laptop</code>) before the child (<code>Alien</code>).</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>cascade = CascadeType.ALL</code> on <code>@OneToOne</code> to propagate operations (e.g., persist, remove) to the related entity.</li>
            </ul>
            <h4 class="subsection-title">Code Example: <code>Laptop.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">Laptop</span> {
    <span class="java-comment">// @Id: Designates lid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">lid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">brand</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">model</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">ram</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getLid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">lid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLid</span>(<span class="java-classname">int</span> <span class="java-parameter">lid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">lid</span> = <span class="java-parameter">lid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getBrand</span>() {
        <span class="java-keyword">return</span> <span class="java-field">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setBrand</span>(<span class="java-classname">String</span> <span class="java-parameter">brand</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">brand</span> = <span class="java-parameter">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getModel</span>() {
        <span class="java-keyword">return</span> <span class="java-field">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setModel</span>(<span class="java-classname">String</span> <span class="java-parameter">model</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">model</span> = <span class="java-parameter">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getRam</span>() {
        <span class="java-keyword">return</span> <span class="java-field">ram</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setRam</span>(<span class="java-classname">int</span> <span class="java-parameter">ram</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">ram</span> = <span class="java-parameter">ram</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"Laptop{"</span> +
                <span class="java-string">"lid="</span> + <span class="java-field">lid</span> +
                <span class="java-string">", brand='"</span> + <span class="java-field">brand</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", model='"</span> + <span class="java-field">model</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", ram="</span> + <span class="java-field">ram</span> +
                <span class="java-string">"\'}"</span>;
    }
}
</pre>
            <h4 class="subsection-title">Code Example: <code>AlienOneToOne.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.OneToOne</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">AlienOneToOne</span> {
    <span class="java-comment">// @Id: Designates aid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">aid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">aname</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">technology</span>;
    <span class="java-comment">// @OneToOne: Defines a one-to-one relationship with Laptop, creating a foreign key (laptop_lid)</span>
    <span class="java-annotation">@OneToOne</span>
    <span class="java-keyword">private</span> <span class="java-classname">Laptop</span> <span class="java-field">laptop</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getAid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAid</span>(<span class="java-classname">int</span> <span class="java-parameter">aid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aid</span> = <span class="java-parameter">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getAname</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAname</span>(<span class="java-classname">String</span> <span class="java-parameter">aname</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aname</span> = <span class="java-parameter">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getTechnology</span>() {
        <span class="java-keyword">return</span> <span class="java-field">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setTechnology</span>(<span class="java-classname">String</span> <span class="java-parameter">technology</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">technology</span> = <span class="java-parameter">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">Laptop</span> <span class="java-method">getLaptop</span>() {
        <span class="java-keyword">return</span> <span class="java-field">laptop</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLaptop</span>(<span class="java-classname">Laptop</span> <span class="java-parameter">laptop</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">laptop</span> = <span class="java-parameter">laptop</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"AlienOneToOne{"</span> +
                <span class="java-string">"aid="</span> + <span class="java-field">aid</span> +
                <span class="java-string">", aname='"</span> + <span class="java-field">aname</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", technology='"</span> + <span class="java-field">technology</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", laptop="</span> + <span class="java-field">laptop</span> +
                <span class="java-string">"\'}"</span>;
    }
}
</pre>
            <h4 class="subsection-title">Code Example: <code>OneToOneMain.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.Transaction</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">OneToOneMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register entity classes</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">AlienOneToOne</span>.<span class="java-classname">class</span>)
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Laptop</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for database operations</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Begin a transaction for data modification</span>
            <span class="java-classname">Transaction</span> <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();

            <span class="java-comment">// Create a Laptop object (parent entity)</span>
            <span class="java-classname">Laptop</span> <span class="java-field">l1</span> = <span class="java-keyword">new</span> <span class="java-classname">Laptop</span>();
            <span class="java-field">l1</span>.<span class="java-method">setLid</span>(1);
            <span class="java-field">l1</span>.<span class="java-method">setBrand</span>(<span class="java-string">"Asus"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setModel</span>(<span class="java-string">"ROG"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setRam</span>(16);

            <span class="java-comment">// Create an AlienOneToOne object with Laptop (child entity)</span>
            <span class="java-classname">AlienOneToOne</span> <span class="java-field">a1</span> = <span class="java-keyword">new</span> <span class="java-classname">AlienOneToOne</span>();
            <span class="java-field">a1</span>.<span class="java-method">setAid</span>(101);
            <span class="java-field">a1</span>.<span class="java-method">setAname</span>(<span class="java-string">"Navin"</span>);
            <span class="java-field">a1</span>.<span class="java-method">setTechnology</span>(<span class="java-string">"Java"</span>);
            <span class="java-field">a1</span>.<span class="java-method">setLaptop</span>(<span class="java-field">l1</span>);

            <span class="java-comment">// Persist Laptop first (parent), then AlienOneToOne</span>
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">l1</span>);
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">a1</span>);

            <span class="java-comment">// Commit the transaction to save changes</span>
            <span class="java-field">tx</span>.<span class="java-method">commit</span>();
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h4 class="subsection-title">Annotation Explanation</h4>
            <ul>
                <li class="content-line"><code>@OneToOne</code>: Establishes a one-to-one relationship, linking <code>AlienOneToOne</code> to <code>Laptop</code> via a foreign key (<code>laptop_lid</code>).</li>
            </ul>
            <h4 class="subsection-title">Code Explanation</h4>
            <ul>
                <li class="content-line"><code>persist(l1)</code>: Saves <code>Laptop</code> first, as it’s the parent entity.</li>
                <li class="content-line"><code>persist(a1)</code>: Saves <code>AlienOneToOne</code> with a foreign key to <code>Laptop</code>.</li>
                <li class="content-line"><strong>Transaction</strong>: Required for persistence.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>mappedBy</code> in bidirectional one-to-one mappings to avoid duplicate foreign keys.</li>
            </ul>
            <h4 class="subsection-title">Database Tables</h4>
            <h5 class="subsection-title">Table: <code>laptop</code></h5>
            <table>
                <tr><th>lid (PK)</th><th>brand</th><th>model</th><th>ram</th></tr>
                <tr><td>1</td><td>Asus</td><td>ROG</td><td>16</td></tr>
            </table>
            <h5 class="subsection-title">Table: <code>alien_one_to_one</code></h5>
            <table>
                <tr><th>aid (PK)</th><th>aname</th><th>technology</th><th>laptop_lid (FK)</th></tr>
                <tr><td>101</td><td>Navin</td><td>Java</td><td>1</td></tr>
            </table>
            <h4 class="subsection-title">Diagram: One-to-One Relationship</h4>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[AlienOneToOne] ----(laptop_lid)----> [Laptop]</span>
<span class="java-comment">  aid, aname, technology              lid, brand, model, ram</span></pre>
                <p class="image-caption">Figure 3: One-to-One Relationship</p>
            </div>
            <h3 class="subsection-title">One-to-Many and Many-to-One Mapping</h3>
            <h4 class="subsection-title">Key Points</h4>
            <ul>
                <li class="content-line">One <code>Alien</code> can have multiple <code>Laptops</code>, using <code>@OneToMany</code> in <code>Alien</code>.</li>
                <li class="content-line">Use <code>@ManyToOne</code> in <code>Laptop</code> with <code>mappedBy</code> in < Chandra to avoid a third table.</li>
                <li class="content-line"><code>Laptop</code> table includes a foreign key to <code>Alien</code>.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Bidirectional mappings improve navigation but require careful synchronization of both sides.</li>
            </ul>
            <h4 class="subsection-title">Code Example: <code>LaptopMany.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.ManyToOne</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">LaptopMany</span> {
    <span class="java-comment">// @Id: Designates lid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">lid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">brand</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">model</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">ram</span>;
    <span class="java-comment">// @ManyToOne: Defines a many-to-one relationship with Alien, creating a foreign key (alien_aid)</span>
    <span class="java-annotation">@ManyToOne</span>
    <span class="java-keyword">private</span> <span class="java-classname">AlienOneToMany</span> <span class="java-field">alien</span>;

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getLid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">lid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLid</span>(<span class="java-classname">int</span> <span class="java-parameter">lid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">lid</span> = <span class="java-parameter">lid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getBrand</span>() {
        <span class="java-keyword">return</span> <span class="java-field">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setBrand</span>(<span class="java-classname">String</span> <span class="java-parameter">brand</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">brand</span> = <span class="java-parameter">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getModel</span>() {
        <span class="java-keyword">return</span> <span class="java-field">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setModel</span>(<span class="java-classname">String</span> <span class="java-parameter">model</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">model</span> = <span class="java-parameter">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getRam</span>() {
        <span class="java-keyword">return</span> <span class="java-field">ram</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setRam</span>(<span class="java-classname">int</span> <span class="java-parameter">ram</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">ram</span> = <span class="java-parameter">ram</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">AlienOneToMany</span> <span class="java-method">getAlien</span>() {
        <span class="java-keyword">return</span> <span class="java-field">alien</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAlien</span>(<span class="java-classname">AlienOneToMany</span> <span class="java-parameter">alien</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">alien</span> = <span class="java-parameter">alien</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"LaptopMany{"</span> +
                <span class="java-string">"lid="</span> + <span class="java-field">lid</span> +
                <span class="java-string">", brand='"</span> + <span class="java-field">brand</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", model='"</span> + <span class="java-field">model</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", ram="</span> + <span class="java-field">ram</span> +
                <span class="java-string">"\'}"</span>;
    }
}
</pre>
            <h4 class="subsection-title">Code Example: <code>AlienOneToMany.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.OneToMany</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.ArrayList</span>;
<span class="java-import">import</span> <span class="java-classname">java.util.List</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">AlienOneToMany</span> {
    <span class="java-comment">// @Id: Designates aid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">aid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">aname</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">technology</span>;
    <span class="java-comment">// @OneToMany: Defines a one-to-many relationship with Laptop, managed by the alien field in LaptopMany</span>
    <span class="java-annotation">@OneToMany(mappedBy = "alien")</span>
    <span class="java-keyword">private</span> <span class="java-classname">List&lt;LaptopMany&gt;</span> <span class="java-field">laptops</span> = <span class="java-keyword">new</span> <span class="java-classname">ArrayList&lt;&gt;</span>();

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getAid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAid</span>(<span class="java-classname">int</span> <span class="java-parameter">aid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aid</span> = <span class="java-parameter">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getAname</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAname</span>(<span class="java-classname">String</span> <span class="java-parameter">aname</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aname</span> = <span class="java-parameter">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getTechnology</span>() {
        <span class="java-keyword">return</span> <span class="java-field">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setTechnology</span>(<span class="java-classname">String</span> <span class="java-parameter">technology</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">technology</span> = <span class="java-parameter">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">List&lt;LaptopMany&gt;</span> <span class="java-method">getLaptops</span>() {
        <span class="java-keyword">return</span> <span class="java-field">laptops</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLaptops</span>(<span class="java-classname">List&lt;LaptopMany&gt;</span> <span class="java-parameter">laptops</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">laptops</span> = <span class="java-parameter">laptops</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"AlienOneToMany{"</span> +
                <span class="java-string">"aid="</span> + <span class="java-field">aid</span> +
                <span class="java-string">", aname='"</span> + <span class="java-field">aname</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", technology='"</span> + <span class="java-field">technology</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", laptops="</span> + <span class="java-field">laptops</span> +
                <span class="java-string">"\'}"</span>;
    }
}
</pre>
            <h4 class="subsection-title">Code Example: <code>OneToManyMain.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.Transaction</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.Arrays</span>;

<span class="java-keyword">public</span> <span class="java-classname">OneToManyMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register entity classes</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">AlienOneToMany</span>.<span class="java-classname">class</span>)
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">LaptopMany</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for database operations</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Begin a transaction for data modification</span>
            <span class="java-classname">Transaction</span> <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();

            <span class="java-comment">// Create Laptop objects</span>
            <span class="java-classname">LaptopMany</span> <span class="java-field">l1</span> = <span class="java-keyword">new</span> <span class="java-classname">LaptopMany</span>();
            <span class="java-field">l1</span>.<span class="java-method">setLid</span>(1);
            <span class="java-field">l1</span>.<span class="java-method">setBrand</span>(<span class="java-string">"Asus"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setModel</span>(<span class="java-string">"ROG"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setRam</span>(16);

            <span class="java-classname">LaptopMany</span> <span class="java-field">l2</span> = <span class="java-keyword">new</span> <span class="java-classname">LaptopMany</span>();
            <span class="java-field">l2</span>.<span class="java-method">setLid</span>(2);
            <span class="java-field">l2</span>.<span class="java-method">setBrand</span>(<span class="java-string">"Dell"</span>);
            <span class="java-field">l2</span>.<span class="java-method">setModel</span>(<span class="java-string">"XPS"</span>);
            <span class="java-field">l2</span>.<span class="java-method">setRam</span>(32);

            <span class="java-comment">// Create an AlienOneToMany object</span>
            <span class="java-classname">AlienOneToMany</span> <span class="java-field">a1</span> = <span class="java-keyword">new</span> <span class="java-classname">AlienOneToMany</span>();
            <span class="java-field">a1</span>.<span class="java-method">setAid</span>(101);
            <span class="java-field">a1</span>.<span class="java-method">setAname</span>(<span class="java-string">"Navin"</span>);
            <span class="java-field">a1</span>.<span class="java-method">setTechnology</span>(<span class="java-string">"Java"</span>);

            <span class="java-comment">// Set relationships (bidirectional)</span>
            <span class="java-field">l1</span>.<span class="java-method">setAlien</span>(<span class="java-field">a1</span>);
            <span class="java-field">l2</span>.<span class="java-method">setAlien</span>(<span class="java-field">a1</span>);
            <span class="java-field">a1</span>.<span class="java-method">setLaptops</span>(<span class="java-classname">Arrays</span>.<span class="java-method">asList</span>(<span class="java-field">l1</span>, <span class="java-field">l2</span>));

            <span class="java-comment">// Persist Laptops and Alien</span>
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">l1</span>);
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">l2</span>);
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">a1</span>);

            <span class="java-comment">// Commit the transaction to save changes</span>
            <span class="java-field">tx</span>.<span class="java-method">commit</span>();
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h4 class="subsection-title">Annotation Explanation</h4>
            <ul>
                <li class="content-line"><code>@OneToMany(mappedBy = "alien")</code>: Defines a one-to-many relationship, with the <code>alien</code> field in <code>LaptopMany</code> managing the foreign key.</li>
                <li class="content-line"><code>@ManyToOne</code>: Links <code>LaptopMany</code> to <code>AlienOneToMany</code>, creating a foreign key (<code>alien_aid</code>).</li>
            </ul>
            <h4 class="subsection-title">Code Explanation</h4>
            <ul>
                <li class connector-line"><code>mappedBy</code>: Delegates the relationship management to <code>LaptopMany</code>, adding <code>alien_aid</code> as a foreign key.</li>
                <li class="content-line"><strong>Persist Order</strong>: Save <code>LaptopMany</code> objects before <code>AlienOneToMany</code> to satisfy foreign key constraints.</li>
                <li class="content-line"><strong>Bidirectional</strong>: Set both sides of the relationship (<code>l1.setAlien(a1)</code> and <code>a1.setLaptops(...)</code>) to maintain consistency.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>cascade = CascadeType.ALL</code> on <code>@OneToMany</code> to propagate operations to related <code>LaptopMany</code> entities.</li>
            </ul>
            <h4 class="subsection-title">Database Tables</h4>
            <h5 class="subsection-title">Table: <code>laptop_many</code></h5>
            <table>
                <tr><th>lid (PK)</th><th>brand</th><th>model</th><th>ram</th><th>alien_aid (FK)</th></tr>
                <tr><td>1</td><td>Asus</td><td>ROG</td><td>16</td><td>101</td></tr>
                <tr><td>2</td><td>Dell</td><td>XPS</td><td>32</td><td>101</td></tr>
            </table>
            <h5 class="subsection-title">Table: <code>alien_one_to_many</code></h5>
            <table>
                <tr><th>aid (PK)</th><th>aname</th><th>technology</th></tr>
                <tr><td>101</td><td>Navin</td><td>Java</td></tr>
            </table>
            <h4 class="subsection-title">Diagram: One-to-Many Relationship</h4>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[AlienOneToMany] <----(alien_aid)---- [LaptopMany]</span>
<span class="java-comment">  aid, aname, technology               lid, brand, model, ram</span></pre>
                <p class="image-caption">Figure 4: One-to-Many Relationship</p>
            </div>
            <h3 class="subsection-title">Many-to-Many Mapping</h3>
            <h4 class="subsection-title">Key Points</h4>
            <ul>
                <li class="content-line">Multiple <code>Aliens</code> can have multiple <code>Laptops</code>, using <code>@ManyToMany</code>.</li>
                <li class="content-line">Creates a third table (e.g., <code>alien_many_to_many_laptop_many_to_many</code>) for relationships.</li>
                <li class="content-line">Use <code>mappedBy</code> to avoid redundant tables.</li>
                <li class="content-line">Persist both entities and set relationships bidirectionally.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>cascade = CascadeType.ALL</code> to propagate operations to related entities, but be cautious of unintended deletions.</li>
            </ul>
            <h4 class="subsection-title">Code Example: <code>LaptopManyToMany.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.ManyToMany</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.ArrayList</span>;
<span class="java-import">import</span> <span class="java-classname">java.util.List</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">LaptopManyToMany</span> {
    <span class="java-comment">// @Id: Designates lid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">lid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">brand</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">model</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">ram</span>;
    <span class="java-comment">// @ManyToMany: Defines a many-to-many relationship with AlienManyToMany</span>
    <span class="java-annotation">@ManyToMany(mappedBy = "laptops")</span>
    <span class="java-keyword">private</span> <span class="java-classname">List&lt;AlienManyToMany&gt;</span> <span class="java-field">aliens</span> = <span class="java-keyword">new</span> <span class="java-classname">ArrayList&lt;&gt;</span>();

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getLid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">lid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLid</span>(<span class="java-classname">int</span> <span class="java-parameter">lid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">lid</span> = <span class="java-parameter">lid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getBrand</span>() {
        <span class="java-keyword">return</span> <span class="java-field">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setBrand</span>(<span class="java-classname">String</span> <span class="java-parameter">brand</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">brand</span> = <span class="java-parameter">brand</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getModel</span>() {
        <span class="java-keyword">return</span> <span class="java-field">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setModel</span>(<span class="java-classname">String</span> <span class="java-parameter">model</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">model</span> = <span class="java-parameter">model</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getRam</span>() {
        <span class="java-keyword">return</span> <span class="java-field">ram</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setRam</span>(<span class="java-classname">int</span> <span class="java-parameter">ram</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">ram</span> = <span class="java-parameter">ram</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">List&lt;AlienManyToMany&gt;</span> <span class="java-method">getAliens</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aliens</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAliens</span>(<span class="java-classname">List&lt;AlienManyToMany&gt;</span> <span class="java-parameter">aliens</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aliens</span> = <span class="java-parameter">aliens</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"LaptopManyToMany{"</span> +
                <span class="java-string">"lid="</span> + <span class="java-field">lid</span> +
                <span class="java-string">", brand='"</span> + <span class="java-field">brand</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", model='"</span> + <span class="java-field">model</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", ram="</span> + <span class="java-field">ram</span> +
                <span class="java-string">"\'}"</span>;
    }
}
</pre>
            <h4 class="subsection-title">Code Example: <code>AlienManyToMany.java</code></h4>
           <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.ManyToMany</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.ArrayList</span>;
<span class="java-import">import</span> <span class="java-classname">java.util.List</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">AlienManyToMany</span> {
    <span class="java-comment">// @Id: Designates aid as the primary key</span>
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">aid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">aname</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">technology</span>;
    <span class="java-comment">// @ManyToMany: Defines a many-to-many relationship with LaptopManyToMany</span>
    <span class="java-annotation">@ManyToMany</span>
    <span class="java-keyword">private</span> <span class="java-classname">List&lt;LaptopManyToMany&gt;</span> <span class="java-field">laptops</span> = <span class="java-keyword">new</span> <span class="java-classname">ArrayList&lt;&gt;</span>();

    <span class="java-comment">// Getters and setters</span>
    <span class="java-keyword">public</span> <span class="java-classname">int</span> <span class="java-method">getAid</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAid</span>(<span class="java-classname">int</span> <span class="java-parameter">aid</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aid</span> = <span class="java-parameter">aid</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getAname</span>() {
        <span class="java-keyword">return</span> <span class="java-field">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setAname</span>(<span class="java-classname">String</span> <span class="java-parameter">aname</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">aname</span> = <span class="java-parameter">aname</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">getTechnology</span>() {
        <span class="java-keyword">return</span> <span class="java-field">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setTechnology</span>(<span class="java-classname">String</span> <span class="java-parameter">technology</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">technology</span> = <span class="java-parameter">technology</span>;
    }

    <span class="java-keyword">public</span> <span class="java-classname">List&lt;LaptopManyToMany&gt;</span> <span class="java-method">getLaptops</span>() {
        <span class="java-keyword">return</span> <span class="java-field">laptops</span>;
    }

    <span class="java-keyword">public</span> <span class="java-keyword">void</span> <span class="java-method">setLaptops</span>(<span class="java-classname">List&lt;LaptopManyToMany&gt;</span> <span class="java-parameter">laptops</span>) {
        <span class="java-keyword">this</span>.<span class="java-field">laptops</span> = <span class="java-parameter">laptops</span>;
    }

    <span class="java-comment">// toString for readable output</span>
    <span class="java-annotation">@Override</span>
    <span class="java-keyword">public</span> <span class="java-classname">String</span> <span class="java-method">toString</span>() {
        <span class="java-keyword">return</span> <span class="java-string">"AlienManyToMany{"</span> +
                <span class="java-string">"aid="</span> + <span class="java-field">aid</span> +
                <span class="java-string">", aname='"</span> + <span class="java-field">aname</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", technology='"</span> + <span class="java-field">technology</span> + <span class="java-string">"\'"</span> +
                <span class="java-string">", laptops="</span> + <span class="java-field">laptops</span> +
                <span class="java-string">"\'}"</span>;
    }
}
</pre>
            <h4 class="subsection-title">Code Example: <code>ManyToManyMain.java</code></h4>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.Transaction</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.Arrays</span>;

<span class="java-keyword">public</span> <span class="java-classname">ManyToManyMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register entity classes</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">AlienManyToMany</span>.<span class="java-classname">class</span>)
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">LaptopManyToMany</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for database operations</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Begin a transaction for data modification</span>
            <span class="java-classname">Transaction</span> <span class="java-field">tx</span> = <span class="java-field">session</span>.<span class="java-method">beginTransaction</span>();

            <span class="java-comment">// Create Laptop objects</span>
            <span class="java-classname">LaptopManyToMany</span> <span class="java-field">l1</span> = <span class="java-keyword">new</span> <span class="java-classname">LaptopManyToMany</span>();
            <span class="java-field">l1</span>.<span class="java-method">setLid</span>(1);
            <span class="java-field">l1</span>.<span class="java-method">setBrand</span>(<span class="java-string">"Asus"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setModel</span>(<span class="java-string">"ROG"</span>);
            <span class="java-field">l1</span>.<span class="java-method">setRam</span>(16);

            <span class="java-classname">LaptopManyToMany</span> <span class="java-field">l2</span> = <span class="java-keyword">new</span> <span class="java-classname">LaptopManyToMany</span>();
            <span class="java-field">l2</span>.<span class="java-method">setLid</span>(2);
            <span class="java-field">l2</span>.<span class="java-method">setBrand</span>(<span class="java-string">"Dell"</span>);
            <span class="java-field">l2</span>.<span class="java-method">setModel</span>(<span class="java-string">"XPS"</span>);
            <span class="java-field">l2</span>.<span class="java-method">setRam</span>(32);

            <span class="java-comment">// Create Alien objects</span>
            <span class="java-classname">AlienManyToMany</span> <span class="java-field">a1</span> = <span class="java-keyword">new</span> <span class="java-classname">AlienManyToMany</span>();
            <span class="java-field">a1</span>.<span class="java-method">setAid</span>(101);
            <span class="java-field">a1</span>.<span class="java-method">setAname</span>(<span class="java-string">"Navin"</span>);
            <span class="java-field">a1</span>.<span class="java-method">setTechnology</span>(<span class="java-string">"Java"</span>);

            <span class="java-classname">AlienManyToMany</span> <span class="java-field">a2</span> = <span class="java-keyword">new</span> <span class="java-classname">AlienManyToMany</span>();
            <span class="java-field">a2</span>.<span class="java-method">setAid</span>(102);
            <span class="java-field">a2</span>.<span class="java-method">setAname</span>(<span class="java-string">"Kiran"</span>);
            <span class="java-field">a2</span>.<span class="java-method">setTechnology</span>(<span class="java-string">"Python"</span>);

            <span class="java-comment">// Set relationships (bidirectional)</span>
            <span class="java-field">a1</span>.<span class="java-method">setLaptops</span>(<span class="java-classname">Arrays</span>.<span class="java-method">asList</span>(<span class="java-field">l1</span>, <span class="java-field">l2</span>));
            <span class="java-field">a2</span>.<span class="java-method">setLaptops</span>(<span class="java-classname">Arrays</span>.<span class="java-method">asList</span>(<span class="java-field">l1</span>));
            <span class="java-field">l1</span>.<span class="java-method">setAliens</span>(<span class="java-classname">Arrays</span>.<span class="java-method">asList</span>(<span class="java-field">a1</span>, <span class="java-field">a2</span>));
            <span class="java-field">l2</span>.<span class="java-method">setAliens</span>(<span class="java-classname">Arrays</span>.<span class="java-method">asList</span>(<span class="java-field">a1</span>));

            <span class="java-comment">// Persist entities</span>
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">l1</span>);
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">l2</span>);
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">a1</span>);
            <span class="java-field">session</span>.<span class="java-method">persist</span>(<span class="java-field">a2</span>);

            <span class="java-comment">// Commit the transaction to save changes</span>
            <span class="java-field">tx</span>.<span class="java-method">commit</span>();
        } <span class="java-keyword">finally</span> {
            <span class="java-comment">// Close the SessionFactory</span>
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h4 class="subsection-title">Annotation Explanation</h4>
            <ul>
                <li class="content-line"><code>@ManyToMany</code>: Establishes a many-to-many relationship, creating a join table (<code>alien_many_to_many_laptop_many_to_many</code>).</li>
                <li class="content-line"><code>mappedBy = "laptops"</code>: Indicates that <code>AlienManyToMany</code> owns the relationship, preventing duplicate tables.</li>
            </ul>
            <h4 class="subsection-title">Code Explanation</h4>
            <ul>
                <li class="content-line"><strong>Bidirectional</strong>: Both <code>AlienManyToMany</code> and <code>LaptopManyToMany</code> maintain lists of each other, synchronized via setters.</li>
                <li class="content-line"><code>persist</code>: Saves entities and their relationships, populating the join table.</li>
                <li class="content-line"><strong>Transaction</strong>: Required for persistence to ensure data consistency.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>@JoinTable</code> to customize the join table’s name and column names for better clarity.</li>
            </ul>
            <h4 class="subsection-title">Database Tables</h4>
            <h5 class="subsection-title">Table: <code>laptop_many_to_many</code></h5>
            <table>
                <tr><th>lid (PK)</th><th>brand</th><th>model</th><th>ram</th></tr>
                <tr><td>1</td><td>Asus</td><td>ROG</td><td>16</td></tr>
                <tr><td>2</td><td>Dell</td><td>XPS</td><td>32</td></tr>
            </table>
            <h5 class="subsection-title">Table: <code>alien_many_to_many</code></h5>
            <table>
                <tr><th>aid (PK)</th><th>aname</th><th>technology</th></tr>
                <tr><td>101</td><td>Navin</td><td>Java</td></tr>
                <tr><td>102</td><td>Kiran</td><td>Python</td></tr>
            </table>
            <h5 class="subsection-title">Table: <code>alien_many_to_many_laptop_many_to_many</code></h5>
            <table>
                <tr><th>alien_aid (FK)</th><th>laptop_lid (FK)</th></tr>
                <tr><td>101</td><td>1</td></tr>
                <tr><td>101</td><td>2</td></tr>
                <tr><td>102</td><td>1</td></tr>
            </table>
            <h4 class="subsection-title">Diagram: Many-to-Many Relationship</h4>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[AlienManyToMany] <--> [alien_many_to_many_laptop_many_to_many] <--> [LaptopManyToMany]</span>
<span class="java-comment">  aid, aname, technology          alien_aid, laptop_lid                     lid, brand, model, ram</span></pre>
                <p class="image-caption">Figure 5: Many-to-Many Relationship</p>
            </div>
        </div>

        <div class="section" id="eager-lazy-fetching">
            <h2 class="section-title">Eager and Lazy Fetching</h2>
            <h3 class="subsection-title">Key Points</h3>
            <ul>
                <li class="content-line"><strong>Eager Fetching</strong>: Loads related entities immediately (e.g., <code>@OneToMany(fetch = FetchType.EAGER)</code>).</li>
                <li class="content-line"><strong>Lazy Fetching</strong>: Loads related entities only when accessed (e.g., <code>@OneToMany(fetch = FetchType.LAZY)</code>).</li>
                <li class="content-line">Default: <code>@OneToMany</code> and <code>@ManyToMany</code> are lazy; <code>@OneToOne</code> and <code>@ManyToOne</code> are eager.</li>
                <li class="content-line">Use lazy fetching for performance optimization with large datasets.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Lazy fetching can cause <code>LazyInitializationException</code> if the session is closed before accessing related entities.</li>
            </ul>
            <h3 class="subsection-title">Code Example: <code>AlienOneToMany.java</code> (Lazy Fetching)</h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.OneToMany</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.FetchType</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.ArrayList</span>;
<span class="java-import">import</span> <span class="java-classname">java.util.List</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">AlienOneToMany</span> {
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">aid</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">aname</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">technology</span>;
    <span class="java-comment">// @OneToMany with lazy fetching</span>
    <span class="java-annotation">@OneToMany(mappedBy = "alien", fetch = FetchType.LAZY)</span>
    <span class="java-keyword">private</span> <span class="java-classname">List&lt;LaptopMany&gt;</span> <span class="java-field">laptops</span> = <span class="java-keyword">new</span> <span class="java-classname">ArrayList&lt;&gt;</span>();

    <span class="java-comment">// Getters and setters (omitted for brevity)</span>
}
</pre>
            <h3 class="subsection-title">Code Example: <code>FetchMain.java</code></h3>
           <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">FetchMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-comment">// Configure Hibernate and register entity classes</span>
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">AlienOneToMany</span>.<span class="java-classname">class</span>)
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">LaptopMany</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// Open a session for fetching data</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Fetch AlienOneToMany (lazy fetching for laptops)</span>
            <span class="java-classname">AlienOneToMany</span> <span class="java-field">alien</span> = <span class="java-field">session</span>.<span class="java-method">get</span>(<span class="java-classname">AlienOneToMany</span>.<span class="java-classname">class</span>, 101);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">alien</span>.<span class="java-method">getAname</span>());
            <span class="java-comment">// Access laptops (triggers query due to lazy fetching)</span>
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">alien</span>.<span class="java-method">getLaptops</span>());
        } <span class="java-keyword">finally</span> {
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h3 class="subsection-title">Annotation Explanation</h3>
            <ul>
                <li class="content-line"><code>fetch = FetchType.LAZY</code>: Delays loading of <code>laptops</code> until accessed, reducing initial query overhead.</li>
            </ul>
            <h3 class="subsection-title">Code Explanation</h3>
            <ul>
                <li class="content-line"><code>get(AlienOneToMany.class, 101)</code>: Loads <code>AlienOneToMany</code> without fetching <code>laptops</code>.</li>
                <li class="content-line"><code>getLaptops()</code>: Triggers a database query to load related <code>LaptopMany</code> entities.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>@BatchSize</code> or <code>@Fetch(FetchMode.SUBSELECT)</code> to optimize lazy fetching for multiple entities.</li>
            </ul>
            <h3 class="subsection-title">Diagram: Lazy Fetching</h3>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[Session.get(Alien)] --> [Alien Data Loaded]</span>
<span class="java-comment">  [Access getLaptops()] --> [Query for Laptops]</span></pre>
                <p class="image-caption">Figure 6: Lazy Fetching Process</p>
            </div>
        </div>

        <div class="section" id="hibernate-caching">
            <h2 class="section-title">Hibernate Caching</h2>
            <h3 class="subsection-title">Key Points</h3>
            <ul>
                <li class="content-line"><strong>First-Level Cache</strong>: Session-level, enabled by default, stores entities within a session.</li>
                <li class="content-line"><strong>Second-Level Cache</strong>: SessionFactory-level, optional, requires configuration (e.g., Ehcache).</li>
                <li class="content-line"><strong>Query Cache</strong>: Caches query results, used with second-level cache.</li>
                <li class="content-line">First-level cache reduces database hits within a session but is cleared when the session closes.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Second-level cache improves performance for frequently accessed data across sessions but requires careful configuration to avoid stale data.</li>
            </ul>
            <h3 class="subsection-title">Code Example: First-Level Cache</h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">CacheMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// First get (hits database)</span>
            <span class="java-classname">Student</span> <span class="java-field">s1</span> = <span class="java-field">session</span>.<span class="java-method">get</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>, 101);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s1</span>);
            <span class="java-comment">// Second get (uses first-level cache, no database hit)</span>
            <span class="java-classname">Student</span> <span class="java-field">s2</span> = <span class="java-field">session</span>.<span class="java-method">get</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>, 101);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s2</span>);
        }
        <span class="java-field">sf</span>.<span class="java-method">close</span>();
    }
}
</pre>
            <h3 class="subsection-title">Code Explanation</h3>
            <ul>
                <li class="content-line"><code>session.get(101)</code>: First call queries the database.</li>
                <li class="content-line">Second <code>session.get(101)</code>: Retrieves from first-level cache, avoiding a database query.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: First-level cache is scoped to a single session, so a new session triggers a new database query.</li>
            </ul>
            <h3 class="subsection-title">Diagram: First-Level Cache</h3>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[Session] --> [First-Level Cache] --> [Database (if cache miss)]</span></pre>
                <p class="image-caption">Figure 7: First-Level Cache Mechanism</p>
            </div>
        </div>

        <div class="section" id="hibernate-query-language">
            <h2 class="section-title">Hibernate Query Language (HQL)</h2>
            <h3 class="subsection-title">Key Points</h3>
            <ul>
                <li class="content-line">HQL is an object-oriented query language for Hibernate, similar to SQL but operates on entities.</li>
                <li class="content-line">Use <code>session.createQuery()</code> to execute HQL queries.</li>
                <li class="content-line">Supports <code>SELECT</code>, <code>WHERE</code>, <code>ORDER BY</code>, and joins.</li>
                <li class="content-line">No transaction is needed for read-only queries.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: HQL queries are database-agnostic, leveraging Hibernate’s dialect for compatibility.</li>
            </ul>
            <h3 class="subsection-title">Code Example: <code>HQLMain.java</code></h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.query.Query</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.List</span>;

<span class="java-keyword">public</span> <span class="java-classname">HQLMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// HQL query to select all students</span>
            <span class="java-classname">Query&lt;Student&gt;</span> <span class="java-field">query1</span> = <span class="java-field">session</span>.<span class="java-method">createQuery</span>(<span class="java-string">"FROM Student"</span>, <span class="java-classname">Student</span>.<span class="java-classname">class</span>);
            <span class="java-classname">List&lt;Student&gt;</span> <span class="java-field">students</span> = <span class="java-field">query1</span>.<span class="java-method">list</span>();
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">students</span>);

            <span class="java-comment">// HQL query with WHERE clause</span>
            <span class="java-classname">Query&lt;Student&gt;</span> <span class="java-field">query2</span> = <span class="java-field">session</span>.<span class="java-method">createQuery</span>(<span class="java-string">"FROM Student WHERE sAge > :age"</span>, <span class="java-classname">Student</span>.<span class="java-classname">class</span>);
            <span class="java-field">query2</span>.<span class="java-method">setParameter</span>(<span class="java-string">"age"</span>, 20);
            <span class="java-field">students</span> = <span class="java-field">query2</span>.<span class="java-method">list</span>();
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">students</span>);

            <span class="java-comment">// HQL query with SELECT and ORDER BY</span>
            <span class="java-classname">Query&lt;String&gt;</span> <span class="java-field">query3</span> = <span class="java-field">session</span>.<span class="java-method">createQuery</span>(<span class="java-string">"SELECT sName FROM Student ORDER BY sName"</span>, <span class="java-classname">String</span>.<span class="java-classname">class</span>);
            <span class="java-classname">List&lt;String&gt;</span> <span class="java-field">names</span> = <span class="java-field">query3</span>.<span class="java-method">list</span>();
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">names</span>);
        } <span class="java-keyword">finally</span> {
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h3 class="subsection-title">Code Explanation</h3>
            <ul>
                <li class="content-line"><code>FROM Student</code>: Selects all <code>Student</code> entities.</li>
                <li class="content-line"><code>WHERE sAge > :age</code>: Filters students older than 20, using a named parameter.</li>
                <li class="content-line"><code>SELECT sName</code>: Retrieves only the <code>sName</code> field, ordered alphabetically.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>@NamedQuery</code> for reusable HQL queries defined in entity classes.</li>
            </ul>
            <h3 class="subsection-title">Database Table: <code>student</code></h3>
            <table>
                <tr><th>rollNo (PK)</th><th>sName</th><th>sAge</th></tr>
                <tr><td>101</td><td>Navin</td><td>22</td></tr>
                <tr><td>102</td><td>Kiran</td><td>20</td></tr>
                <tr><td>103</td><td>Harsh</td><td>23</td></tr>
            </table>
        </div>

        <div class="section" id="fetching-with-filters">
            <h2 class="section-title">Fetching with Filters</h2>
            <h3 class="subsection-title">Key Points</h3>
            <ul>
                <li class="content-line">Use <code>@Filter</code> and <code>@FilterDef</code> to apply dynamic filters to entities or collections.</li>
                <li class="content-line">Enable filters on a session with <code>session.enableFilter()</code>.</li>
                <li class="content-line">Useful for soft deletes or tenant-specific data.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Filters are applied at the SQL level, ensuring efficient data retrieval.</li>
            </ul>
            <h3 class="subsection-title">Code Example: <code>StudentFilter.java</code></h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.annotations.Filter</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.annotations.FilterDef</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.annotations.ParamDef</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-comment">// @FilterDef: Defines a filter named ageFilter with a parameter</span>
<span class="java-annotation">@FilterDef(name = "ageFilter", parameters = @ParamDef(name = "minAge", type = int.class))</span>
<span class="java-annotation">@Filter(name = "ageFilter", condition = "s_age >= :minAge")</span>
<span class="java-annotation">@Entity</span>
<span class="java-keyword">public</span> <span class="java-classname">StudentFilter</span> {
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">rollNo</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">sName</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">sAge</span>;

    <span class="java-comment">// Getters and setters (omitted for brevity)</span>
}
</pre>
            <h3 class="subsection-title">Code Example: <code>FilterMain.java</code></h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-import">import</span> <span class="java-classname">java.util.List</span>;

<span class="java-keyword">public</span> <span class="java-classname">FilterMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">StudentFilter</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// Enable filter and set parameter</span>
            <span class="java-field">session</span>.<span class="java-method">enableFilter</span>(<span class="java-string">"ageFilter"</span>).<span class="java-method">setParameter</span>(<span class="java-string">"minAge"</span>, 21);
            <span class="java-comment">// Fetch filtered students</span>
            <span class="java-classname">List&lt;StudentFilter&gt;</span> <span class="java-field">students</span> = <span class="java-field">session</span>.<span class="java-method">createQuery</span>(<span class="java-string">"FROM StudentFilter"</span>, <span class="java-classname">StudentFilter</span>.<span class="java-classname">class</span>).<span class="java-method">list</span>();
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">students</span>);
            <span class="java-comment">// Disable filter</span>
            <span class="java-field">session</span>.<span class="java-method">disableFilter</span>(<span class="java-string">"ageFilter"</span>);
            <span class="java-comment">// Fetch all students</span>
            <span class="java-field">students</span> = <span class="java-field">session</span>.<span class="java-method">createQuery</span>(<span class="java-string">"FROM StudentFilter"</span>, <span class="java-classname">StudentFilter</span>.<span class="java-classname">class</span>).<span class="java-method">list</span>();
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">students</span>);
        } <span class="java-keyword">finally</span> {
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h3 class="subsection-title">Annotation Explanation</h3>
            <ul>
                <li class="content-line"><code>@FilterDef</code>: Defines a filter with a parameter (<code>minAge</code>).</li>
                <li class="content-line"><code>@Filter</code>: Applies the filter with a SQL condition (<code>s_age >= :minAge</code>).</li>
            </ul>
            <h3 class="subsection-title">Code Explanation</h3>
            <ul>
                <li class="content-line"><code>enableFilter</code>: Activates the filter for the session, restricting results to students with <code>sAge >= 21</code>.</li>
                <li class="content-line"><code>disableFilter</code>: Removes the filter, fetching all students.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Filters are reusable across entities and can be applied to collections (e.g., <code>@OneToMany</code>).</li>
            </ul>
            <h3 class="subsection-title">Database Table: <code>student_filter</code></h3>
            <table>
                <tr><th>rollNo (PK)</th><th>sName</th><th>sAge</th></tr>
                <tr><td>101</td><td>Navin</td><td>22</td></tr>
                <tr><td>102</td><td>Kiran</td><td>20</td></tr>
                <tr><td>103</td><td>Harsh</td><td>23</td></tr>
            </table>
        </div>

        <div class="section" id="get-vs-load">
            <h2 class="section-title">Get vs. Load</h2>
            <h3 class="subsection-title">Key Points</h3>
            <ul>
                <li class="content-line"><code>session.get()</code>: Eagerly loads an entity, returning <code>null</code> if not found.</li>
                <li class="content-line"><code>session.load()</code> (deprecated): Lazily loads an entity, throwing <code>ObjectNotFoundException</code> if not found.</li>
                <li class="content-line">Modern alternative: <code>session.byId().getReference()</code> for lazy loading.</li>
                <li class="content-line"><code>get()</code> is safer for null checks; <code>getReference()</code> optimizes performance.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Use <code>get()</code> for immediate data needs; use <code>getReference()</code> for proxy-based operations.</li>
            </ul>
            <h3 class="subsection-title">Code Example: <code>GetVsLoadMain.java</code></h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">GetVsLoadMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-comment">// get(): Eager loading, returns null if not found</span>
            <span class="java-classname">Student</span> <span class="java-field">s1</span> = <span class="java-field">session</span>.<span class="java-method">get</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>, 101);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s1</span> != <span class="java-keyword">null</span> ? <span class="java-field">s1</span> : <span class="java-string">"Not found"</span>);

            <span class="java-comment">// getReference(): Lazy loading, returns a proxy</span>
            <span class="java-classname">Student</span> <span class="java-field">s2</span> = <span class="java-field">session</span>.<span class="java-method">byId</span>(<span class="java-classname">Student</span>.<span class="java-classname">class</span>).<span class="java-method">getReference</span>(102);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s2</span>);
        } <span class="java-keyword">finally</span> {
            <span class="java-field">sf</span>.<span class="java-method">close</span>();
        }
    }
}
</pre>
            <h3 class="subsection-title">Code Explanation</h3>
            <ul>
                <li class="content-line"><code>get()</code>: Queries the database immediately, safe for null checks.</li>
                <li class="content-line"><code>getReference()</code>: Returns a proxy, querying only when fields are accessed.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Avoid <code>getReference()</code> if immediate data access is required to prevent <code>LazyInitializationException</code>.</li>
            </ul>
            <h3 class="subsection-title">Diagram: Get vs. Load</h3>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[get()] --> [Immediate Query] --> [Entity or null]</span>
<span class="java-comment">[getReference()] --> [Proxy] --> [Query on Access]</span></pre>
                <p class="image-caption">Figure 8: Get vs. Load Comparison</p>
            </div>
        </div>

        <div class="section" id="level-2-cache">
            <h2 class="section-title">Level 2 Cache</h2>
            <h3 class="subsection-title">Key Points</h3>
            <ul>
                <li class="content-line">Second-level cache is SessionFactory-scoped, shared across sessions.</li>
                <li class="content-line">Requires a cache provider (e.g., Ehcache) and configuration in <code>hibernate.cfg.xml</code>.</li>
                <li class="content-line">Use <code>@Cache</code> to enable caching for entities.</li>
                <li class="content-line">Improves performance for frequently accessed data.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Configure cache concurrency strategies (e.g., <code>READ_WRITE</code>) to handle concurrent access safely.</li>
            </ul>
            <h3 class="subsection-title">Code Example: <code>StudentCache.java</code></h3>
            <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Entity</span>;
<span class="java-import">import</span> <span class="java-classname">jakarta.persistence.Id</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.annotations.Cache</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.annotations.CacheConcurrencyStrategy</span>;

<span class="java-comment">// @Entity: Marks this class as a Hibernate entity</span>
<span class="java-comment">// @Cache: Enables second-level caching with READ_WRITE strategy</span>
<span class="java-annotation">@Entity</span>
<span class="java-annotation">@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)</span>
<span class="java-keyword">public</span> <span class="java-classname">StudentCache</span> {
    <span class="java-annotation">@Id</span>
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">rollNo</span>;
    <span class="java-keyword">private</span> <span class="java-classname">String</span> <span class="java-field">sName</span>;
    <span class="java-keyword">private</span> <span class="java-classname">int</span> <span class="java-field">sAge</span>;

    <span class="java-comment">// Getters and setters (omitted for brevity)</span>
}
</pre>
            <h3 class="subsection-title">Code Example: <code>hibernate.cfg.xml</code> (Cache Config)</h3>
           <pre class="code-block">
<span class="xml-directive"><?xml version='1.0' encoding='utf-8'?></span>
<span class="xml-doctype"><!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd"></span>
<span class="xml-tag"><hibernate-configuration></span>
    <span class="xml-tag"><session-factory></span>
        <span class="xml-tag"><property name="hibernate.connection.driver_class">org.postgresql.Driver</property></span>
        <span class="xml-tag"><property name="hibernate.connection.url">jdbc:postgresql://localhost:5432/telusko</property></span>
        <span class="xml-tag"><property name="hibernate.connection.username">postgres</property></span>
        <span class="xml-tag"><property name="hibernate.connection.password"></property></span>
        <span class="xml-tag"><property name="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</property></span>
        <span class="xml-tag"><property name="hibernate.show_sql">true</property></span>
        <span class="xml-tag"><property name="hibernate.format_sql">true</property></span>
        <span class="xml-tag"><property name="hibernate.hbm2ddl.auto">update</property></span>
        <span class="java-comment"><!-- Enable second-level cache --></span>
        <span class="xml-tag"><property name="hibernate.cache.use_second_level_cache">true</property></span>
        <span class="xml-tag"><property name="hibernate.cache.region.factory_class">org.hibernate.cache.ehcache.internal.EhcacheRegionFactory</property></span>
    <span class="xml-tag"></session-factory></span>
<span class="xml-tag"></hibernate-configuration></span>
</pre>
            <h3 class="subsection-title">Code Example: <code>Level2CacheMain.java</code></h3>
           <pre class="code-block">
<span class="java-package">package</span> <span class="java-classname">com.telusko</span>;

<span class="java-import">import</span> <span class="java-classname">org.hibernate.Session</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.SessionFactory</span>;
<span class="java-import">import</span> <span class="java-classname">org.hibernate.cfg.Configuration</span>;

<span class="java-keyword">public</span> <span class="java-classname">Level2CacheMain</span> {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> <span class="java-method">main</span>(<span class="java-classname">String</span>[] <span class="java-parameter">args</span>) {
        <span class="java-classname">SessionFactory</span> <span class="java-field">sf</span> = <span class="java-keyword">new</span> <span class="java-classname">Configuration</span>()
                .<span class="java-method">addAnnotatedClass</span>(<span class="java-classname">StudentCache</span>.<span class="java-classname">class</span>)
                .<span class="java-method">configure</span>()
                .<span class="java-method">buildSessionFactory</span>();

        <span class="java-comment">// First session</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session1</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-classname">StudentCache</span> <span class="java-field">s1</span> = <span class="java-field">session1</span>.<span class="java-method">get</span>(<span class="java-classname">StudentCache</span>.<span class="java-classname">class</span>, 101);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s1</span>);
        }

        <span class="java-comment">// Second session</span>
        <span class="java-keyword">try</span> (<span class="java-classname">Session</span> <span class="java-field">session2</span> = <span class="java-field">sf</span>.<span class="java-method">openSession</span>()) {
            <span class="java-classname">StudentCache</span> <span class="java-field">s2</span> = <span class="java-field">session2</span>.<span class="java-method">get</span>(<span class="java-classname">StudentCache</span>.<span class="java-classname">class</span>, 101);
            <span class="java-classname">System</span>.<span class="java-field">out</span>.<span class="java-method">println</span>(<span class="java-field">s2</span>);
        }

        <span class="java-field">sf</span>.<span class="java-method">close</span>();
    }
}
</pre>
            <h3 class="subsection-title">Annotation Explanation</h3>
            <ul>
                <li class="content-line"><code>@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)</code>: Enables second-level caching with read-write concurrency for safe updates.</li>
            </ul>
            <h3 class="subsection-title">Code Explanation</h3>
            <ul>
                <li class="content-line"><code>hibernate.cache.use_second_level_cache</code>: Enables second-level caching.</li>
                <li class="content-line"><code>EhcacheRegionFactory</code>: Configures Ehcache as the cache provider.</li>
                <li class="content-line">First <code>get()</code>: Queries the database and caches the result in the second-level cache.</li>
                <li class="content-line">Second <code>get()</code>: Retrieves from the second-level cache, avoiding a database query.</li>
                <li class="content-line"><strong class="highlight">Additional Insight</strong>: Monitor cache hit/miss ratios to optimize cache configuration.</li>
            </ul>
            <h3 class="subsection-title">Diagram: Second-Level Cache</h3>
            <div class="image-container">
                <pre class="code-block"><span class="java-comment">[Session] --> [First-Level Cache] --> [Second-Level Cache] --> [Database]</span></pre>
                <p class="image-caption">Figure 9: Second-Level Cache Mechanism</p>
            </div>
        </div>
    </div>

    <script>
        function changeBackground() {
            const select = document.getElementById('bg-select');
            const body = document.body;
            body.className = select.value;
        }

        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('hidden');
            sidebar.classList.toggle('active');
        }
    </script>
</body>
</html>